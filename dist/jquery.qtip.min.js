/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Sun May 22 21:37:07 2011 +0100
*//*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true *//*global window: false, jQuery: false */(function(a,b,c){function A(b){var c=this,d=b.elements,e=d.tooltip,f=".bgiframe-"+b.id;a.extend(c,{init:function(){d.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),d.bgiframe.appendTo(e),e.bind("tooltipmove"+f,c.adjust)},adjust:function(){var a=b.get("dimensions"),c=b.plugins.tip,f=d.tip,g,h;h=parseInt(e.css("border-left-width"),10)||0,h={left:-h,top:-h},c&&f&&(g=c.corner.precedance==="x"?["width","left"]:["height","top"],h[g[1]]-=f[g[0]]()),d.bgiframe.css(h).css(a)},destroy:function(){d.bgiframe.remove(),e.unbind(f)}}),c.init()}function z(c){var f=this,g=c.options.show.modal,h=c.elements,i=h.tooltip,j="#qtip-overlay",k=".qtipmodal",l=k+c.id,m="is-modal-qtip",n;c.checks.modal={"^show.modal.(on|blur)$":function(){f.init(),h.overlay.toggle(i.is(":visible"))}},a.extend(f,{init:function(){if(!g.on)return f;n=f.create(),i.attr(m,d).unbind(k).unbind(l).bind("tooltipshow"+k+" tooltiphide"+k,function(a,b,c){f[a.type.replace("tooltip","")](a,c)}).bind("tooltipfocus"+k,function(a,b,c){n[0].style.zIndex=c-1}).bind("tooltipblur"+k,function(b){a("["+m+"]:visible").not(i).last().qtip("focus",b)}),g.escape&&a(b).unbind(l).bind("keydown"+l,function(a){a.keyCode===27&&i.hasClass(o)&&c.hide(a)}),g.blur&&h.overlay.unbind(l).bind("click"+l,function(a){i.hasClass(o)&&c.hide(a)});return f},create:function(){var c=a(j);if(c.length){h.overlay=c;return c}n=h.overlay=a("<div />",{id:j.substr(1),css:{position:"absolute",top:0,left:0,display:"none"},mousedown:function(){return e}}).appendTo(document.body),a(b).unbind(k).bind("resize"+k,function(){n.css({height:Math.max(a(b).height(),a(document).height()),width:Math.max(a(b).width(),a(document).width())})}).trigger("resize");return n},toggle:function(b,c,j){if(b&&b.isDefaultPrevented())return f;var k=g.effect,l=c?"show":"hide",o=a("["+m+"]:visible").not(i),p;n||(n=f.create());if(n.is(":animated")&&!c||!c&&o.length)return f;c&&h.overlay.css("cursor",g.blur?"pointer":""),n.stop(d,e),a.isFunction(k)?k.call(n,c):k===e?n[l]():n.fadeTo(parseInt(j,10)||90,c?.7:0,function(){c||a(this).hide()});return f},show:function(a,b){return f.toggle(a,d,b)},hide:function(a,b){return f.toggle(a,e,b)},destroy:function(){var d=n;d&&(d=a("["+m+"]").not(i).length<1,d?(h.overlay.remove(),a(b).unbind(k)):h.overlay.unbind(k+c.id));return i.removeAttr(m).unbind(k)}}),f.init()}function y(b,g){function v(a){var b=a.precedance==="y",c=n[b?"width":"height"],d=n[b?"height":"width"],e=a.string().indexOf("center")>-1,f=c*(e?.5:1),g=Math.pow,h=Math.round,i,j,k,l=Math.sqrt(g(f,2)+g(d,2)),m=[p/f*l,p/d*l];m[2]=Math.sqrt(g(m[0],2)-g(p,2)),m[3]=Math.sqrt(g(m[1],2)-g(p,2)),i=l+m[2]+m[3]+(e?0:m[0]),j=i/l,k=[h(j*d),h(j*c)];return{height:k[b?0:1],width:k[b?1:0]}}function u(b){var c=k.titlebar&&b.y==="top",d=c?k.titlebar:k.content,e=a.browser.mozilla,f=e?"-moz-":a.browser.webkit?"-webkit-":"",g=b.y+(e?"":"-")+b.x,h=f+(e?"border-radius-"+g:"border-"+g+"-radius");return parseInt(d.css(h),10)||parseInt(l.css(h),10)||0}function t(a,b,c){b=b?b:a[a.precedance];var d=k.titlebar&&a.y==="top",e=d?k.titlebar:k.content,f="border-"+b+"-width",g=parseInt(e.css(f),10);return(c?g||parseInt(l.css(f),10):g)||0}function s(f,g,h,l){if(k.tip){var n=a.extend({},i.corner),o=h.adjusted,p=b.options.position.adjust.method.split(" "),q=p[0],r=p[1]||p[0],s={left:e,top:e,x:0,y:0},t,u={},v;i.corner.fixed!==d&&(q==="shift"&&n.precedance==="x"&&o.left&&n.y!=="center"?n.precedance=n.precedance==="x"?"y":"x":q==="flip"&&o.left&&(n.x=n.x==="center"?o.left>0?"left":"right":n.x==="left"?"right":"left"),r==="shift"&&n.precedance==="y"&&o.top&&n.x!=="center"?n.precedance=n.precedance==="y"?"x":"y":r==="flip"&&o.top&&(n.y=n.y==="center"?o.top>0?"top":"bottom":n.y==="top"?"bottom":"top"),n.string()!==m.corner&&(m.top!==o.top||m.left!==o.left)&&i.update(n,e)),t=i.position(n,o),t.right!==c&&(t.left=-t.right),t.bottom!==c&&(t.top=-t.bottom),t.user=Math.max(0,j.offset);if(s.left=q==="shift"&&!!o.left)n.x==="center"?u["margin-left"]=s.x=t["margin-left"]-o.left:(v=t.right!==c?[o.left,-t.left]:[-o.left,t.left],(s.x=Math.max(v[0],v[1]))>v[0]&&(h.left-=o.left,s.left=e),u[t.right!==c?"right":"left"]=s.x);if(s.top=r==="shift"&&!!o.top)n.y==="center"?u["margin-top"]=s.y=t["margin-top"]-o.top:(v=t.bottom!==c?[o.top,-t.top]:[-o.top,t.top],(s.y=Math.max(v[0],v[1]))>v[0]&&(h.top-=o.top,s.top=e),u[t.bottom!==c?"bottom":"top"]=s.y);k.tip.css(u).toggle(!(s.x&&s.y||n.x==="center"&&s.y||n.y==="center"&&s.x)),h.left-=t.left.charAt?t.user:q!=="shift"||s.top||!s.left&&!s.top?t.left:0,h.top-=t.top.charAt?t.user:r!=="shift"||s.left||!s.left&&!s.top?t.top:0,m.left=o.left,m.top=o.top,m.corner=n.string()}}var i=this,j=b.options.style.tip,k=b.elements,l=k.tooltip,m={top:0,left:0,corner:""},n={width:j.width,height:j.height},o={},p=j.border||0,q=".qtip-tip",r=!!(a("<canvas />")[0]||{}).getContext;i.corner=f,i.mimic=f,i.position={},b.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){i.init()||i.destroy(),b.reposition()},"^style.tip.(height|width)$":function(){n={width:j.width,height:j.height},i.create(),i.update(),b.reposition()},"^content.title.text|style.(classes|widget)$":function(){k.tip&&i.update()}},a.extend(i,{init:function(){var b=i.detectCorner()&&(r||a.browser.msie);b&&(i.create(),i.update(),l.unbind(q).bind("tooltipmove"+q,s));return b},detectCorner:function(){var a=j.corner,c=b.options.position,f=c.at,g=c.my.string?c.my.string():c.my;if(a===e||g===e&&f===e)return e;a===d?i.corner=new h.Corner(g):a.string||(i.corner=new h.Corner(a),i.corner.fixed=d);return i.corner.string()!=="centercenter"},detectColours:function(){var c,d,e,f=k.tip.css({backgroundColor:"",border:""}),g=i.corner,h=g[g.precedance],m="border-"+h+"-color",p="border"+h.charAt(0)+h.substr(1)+"Color",q=/rgba?\(0, 0, 0(, 0)?\)|transparent/i,r="background-color",s="transparent",t="ui-tooltip-fluid",u=a(document.body).css("color"),v=b.elements.content.css("color"),w=k.titlebar&&(g.y==="top"||g.y==="center"&&f.position().top+n.height/2+j.offset<k.titlebar.outerHeight(1)),x=w?k.titlebar:k.content;l.addClass(t),o.fill=d=f.css(r),o.border=e=f[0].style[p]||l.css(m);if(!d||q.test(d))o.fill=x.css(r)||s,q.test(o.fill)&&(o.fill=l.css(r)||d);if(!e||q.test(e)||e===u){o.border=x.css(m)||s;if(q.test(o.border)||o.border===v)o.border=e}a("*",f).add(f).css(r,s).css("border",""),l.removeClass(t)},create:function(){var b=n.width,c=n.height,d;k.tip&&k.tip.remove(),k.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:b,height:c}).prependTo(l),r?a("<canvas />").appendTo(k.tip)[0].getContext("2d").save():(d='<vml:shape coordorigin="0,0" style="display:inline-block; position:absolute; behavior:url(#default#VML);"></vml:shape>',k.tip.html(p?d+=d:d))},update:function(b,c){var g=k.tip,l=g.children(),m=n.width,q=n.height,s="px solid ",u="px dashed transparent",w=j.mimic,y=Math.round,z,A,B,C,D;b||(b=i.corner),w===e?w=b:(w=new h.Corner(w),w.precedance=b.precedance,w.x==="inherit"?w.x=b.x:w.y==="inherit"?w.y=b.y:w.x===w.y&&(w[b.precedance]=b[b.precedance])),z=w.precedance,i.detectColours(),p=o.border==="transparent"||o.border==="#123456"?0:j.border===d?t(b,f,d):j.border,B=x(w,m,q),D=v(b),g.css(D),b.precedance==="y"?C=[y(w.x==="left"?p:w.x==="right"?D.width-m-p:(D.width-m)/2),y(w.y==="top"?D.height-q:0)]:C=[y(w.x==="left"?D.width-m:0),y(w.y==="top"?p:w.y==="bottom"?D.height-q-p:(D.height-q)/2)],r?(l.attr(D),A=l[0].getContext("2d"),A.restore(),A.save(),A.clearRect(0,0,3e3,3e3),A.translate(C[0],C[1]),A.beginPath(),A.moveTo(B[0][0],B[0][1]),A.lineTo(B[1][0],B[1][1]),A.lineTo(B[2][0],B[2][1]),A.closePath(),A.fillStyle=o.fill,A.strokeStyle=o.border,A.lineWidth=p*2,A.lineJoin="miter",A.miterLimit=100,p&&A.stroke(),A.fill()):(B="m"+B[0][0]+","+B[0][1]+" l"+B[1][0]+","+B[1][1]+" "+B[2][0]+","+B[2][1]+" xe",C[2]=p&&/^(r|b)/i.test(b.string())?parseFloat(a.browser.version,10)===8?2:1:0,l.css({antialias:""+(w.string().indexOf("center")>-1),left:C[0]-C[2]*Number(z==="x"),top:C[1]-C[2]*Number(z==="y"),width:m+p,height:q+p}).each(function(b){var c=a(this);c[c.prop?"prop":"attr"]({coordsize:m+p+" "+(q+p),path:B,fillcolor:o.fill,filled:!!b,stroked:!b}).css({display:p||b?"block":"none"}),!b&&p>0&&c.html()===""&&c.html('<vml:stroke weight="'+p*2+'px" color="'+o.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:inline-block;" />')})),c!==e&&i.position(b)},position:function(b){var c=k.tip,f={},g=Math.max(0,j.offset),h,l,m;if(j.corner===e||!c)return e;b=b||i.corner,h=b.precedance,l=v(b),m=[b.x,b.y],h==="x"&&m.reverse(),a.each(m,function(a,c){var e,i;c==="center"?(e=h==="y"?"left":"top",f[e]="50%",f["margin-"+e]=-Math.round(l[h==="y"?"width":"height"]/2)+g):(e=t(b,c,d),i=u(b),f[c]=a?t(b,c):g+(i>e?i:0))}),f[b[h]]-=l[h==="x"?"width":"height"],c.css({top:"",bottom:"",left:"",right:"",margin:""}).css(f);return f},destroy:function(){k.tip&&k.tip.remove(),l.unbind(q)}}),i.init()}function x(a,b,c){var d=Math.ceil(b/2),e=Math.ceil(c/2),f={bottomright:[[0,0],[b,c],[b,0]],bottomleft:[[0,0],[b,0],[0,c]],topright:[[0,c],[b,0],[b,c]],topleft:[[0,0],[0,c],[b,c]],topcenter:[[0,c],[d,0],[b,c]],bottomcenter:[[0,0],[b,0],[d,c]],rightcenter:[[0,0],[b,e],[0,c]],leftcenter:[[b,0],[b,c],[0,e]]};f.lefttop=f.bottomright,f.righttop=f.bottomleft,f.leftbottom=f.topright,f.rightbottom=f.topleft;return f[a.string()]}function w(b){var c=this,f=b.elements.tooltip,g=b.options.content.ajax,h=".qtip-ajax",i=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,j=d;b.checks.ajax={"^content.ajax":function(a,b,d){b==="ajax"&&(g=d),b==="once"?c.init():g&&g.url?c.load():f.unbind(h)}},a.extend(c,{init:function(){g&&g.url&&f.unbind(h)[g.once?"one":"bind"]("tooltipshow"+h,c.load);return c},load:function(d,h){function p(a,c,d){b.set("content.text",c+": "+d),n()}function o(c){l&&(c=a("<div/>").append(c.replace(i,"")).find(l)),b.set("content.text",c),n()}function n(){m&&(f.css("visibility",""),h=e)}if(d&&d.isDefaultPrevented())return c;var j=g.url.indexOf(" "),k=g.url,l,m=g.once&&!g.loading&&h;m&&f.css("visibility","hidden"),j>-1&&(l=k.substr(j),k=k.substr(0,j)),a.ajax(a.extend({success:o,error:p,context:b},g,{url:k}));return c}}),c.init()}function v(b,c){var i,j,k,l,m=a(this),n=a(document.body),o=this===document?n:m,p=m.metadata?m.metadata(c.metadata):f,q=c.metadata.type==="html5"&&p?p[c.metadata.name]:f,r=m.data(c.metadata.name||"qtipopts");try{r=typeof r==="string"?(new Function("return "+r))():r}catch(v){a.error("Unable to parse HTML5 attribute data: "+r)}l=a.extend(d,{},g.defaults,c,typeof r==="object"?t(r):f,t(q||p)),p&&a.removeData(this,"metadata"),j=l.position,l.id=b;if("boolean"===typeof l.content.text){k=m.attr(l.content.attr);if(l.content.attr!==e&&k)l.content.text=k;else return e}j.container===e&&(j.container=n),j.target===e&&(j.target=o),l.show.target===e&&(l.show.target=o),l.show.solo===d&&(l.show.solo=n),l.hide.target===e&&(l.hide.target=o),l.position.viewport===d&&(l.position.viewport=j.container),j.at=new h.Corner(j.at),j.my=new h.Corner(j.my);if(a.data(this,"qtip"))if(l.overwrite)m.qtip("destroy");else if(l.overwrite===e)return e;a.attr(this,"title")&&(a.attr(this,s,a.attr(this,"title")),this.removeAttribute("title")),i=new u(m,l,b,!!k),a.data(this,"qtip",i),m.bind("remove.qtip",function(){i.destroy()});return i}function u(c,q,r,u){function N(){var c=[q.show.target[0],q.hide.target[0],v.rendered&&C.tooltip[0],q.position.container[0],q.position.viewport[0],b,document];v.rendered?a([]).pushStack(a.grep(c,function(a){return typeof a==="object"})).unbind(B):q.show.target.unbind(B+"-create")}function M(){function s(a){A.is(":visible")&&v.reposition(a)}function o(a){if(A.hasClass(l))return e;clearTimeout(v.timers.inactive),v.timers.inactive=setTimeout(function(){v.hide(a)},q.hide.inactive)}function n(b){if(A.hasClass(l))return e;var c=a(b.relatedTarget||b.target),g=c.closest(m)[0]===A[0],h=c[0]===f.show[0];clearTimeout(v.timers.show),clearTimeout(v.timers.hide);d.target==="mouse"&&g||q.hide.fixed&&(/mouse(out|leave|move)/.test(b.type)&&(g||h))?b.preventDefault():q.hide.delay>0?v.timers.hide=setTimeout(function(){v.hide(b)},q.hide.delay):v.hide(b)}function k(a){if(A.hasClass(l))return e;f.show.trigger("qtip-"+r+"-inactive"),clearTimeout(v.timers.show),clearTimeout(v.timers.hide);var b=function(){v.show(a)};q.show.delay>0?v.timers.show=setTimeout(b,q.show.delay):b()}var d=q.position,f={show:q.show.target,hide:q.hide.target,viewport:a(d.viewport),document:a(document),window:a(b)},h={show:a.trim(""+q.show.event).split(" "),hide:a.trim(""+q.hide.event).split(" ")},j=a.browser.msie&&parseInt(a.browser.version,10)===6;A.bind("mouseenter"+B+" mouseleave"+B,function(a){var b=a.type==="mouseenter";b&&v.focus(a),A.toggleClass(p,b)}),q.hide.fixed&&(f.hide=f.hide.add(A),A.bind("mouseover"+B,function(){A.hasClass(l)||clearTimeout(v.timers.hide)})),/mouse(out|leave)/i.test(q.hide.event)?q.hide.leave&&f.window.bind("mouse"+(q.hide.leave.indexOf("frame")>-1?"out":"leave")+B,function(a){a.relatedTarget||v.hide(a)}):/mouse(over|enter)/i.test(q.show.event)&&f.hide.bind("mouseleave"+B,function(a){clearTimeout(v.timers.show)}),(""+q.hide.event).indexOf("unfocus")>0&&f.document.bind("mousedown"+B,function(b){var d=a(b.target),e=!A.hasClass(l)&&A.is(":visible");d.parents(m).length===0&&d.add(c).length>1&&v.hide(b)}),"number"===typeof q.hide.inactive&&(f.show.bind("qtip-"+r+"-inactive",o),a.each(g.inactiveEvents,function(a,b){f.hide.add(C.tooltip).bind(b+B+"-inactive",o)})),a.each(h.hide,function(b,c){var d=a.inArray(c,h.show),e=a(f.hide);d>-1&&e.add(f.show).length===e.length||c==="unfocus"?(f.show.bind(c+B,function(a){A.is(":visible")?n(a):k(a)}),delete h.show[d]):f.hide.bind(c+B,n)}),a.each(h.show,function(a,b){f.show.bind(b+B,k)}),"number"===typeof q.hide.distance&&f.show.bind("mousemove"+B,function(a){var b=D.origin||{},c=q.hide.distance,d=Math.abs;(d(a.pageX-b.pageX)>=c||d(a.pageY-b.pageY)>=c)&&v.hide(a)}),d.target==="mouse"&&(f.show.add(A).bind("mousemove"+B,function(a){i={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),d.adjust.mouse&&(q.hide.event&&A.bind("mouseleave"+B,function(a){(a.relatedTarget||a.target)!==f.show[0]&&v.hide(a)}),f.document.bind("mousemove"+B,function(a){!A.hasClass(l)&&A.is(":visible")&&v.reposition(a||i)}))),(d.adjust.resize||f.viewport.length)&&(a.event.special.resize?f.viewport:f.window).bind("resize"+B,s),(f.viewport.length||j&&A.css("position")==="fixed")&&f.viewport.bind("scroll"+B,s)}function L(b,d){function g(a){function c(c){(b=b.not(this)).length===0&&(v.redraw(),d!==e&&v.reposition(D.event),a())}var b;if((b=f.find("img:not([height]):not([width])")).length===0)return c.call(b);b.each(function(a,b){(function d(){var e=v.timers.img;if(b.height&&b.width){clearTimeout(e[a]);return c.call(b)}e[a]=setTimeout(d,20)})()})}var f=C.content;b=b||q.content.text;if(!v.rendered||!b)return e;a.isFunction(b)&&(b=b.call(c,v)||""),b.jquery&&b.length>0?f.empty().append(b.css({display:"block"})):f.html(b),v.rendered<0?A.queue("fx",g):(z=0,g(a.noop));return v}function K(b){var d=C.title;if(!v.rendered||!b)return e;a.isFunction(b)&&(b=b.call(c,v)||""),b.jquery&&b.length>0?d.empty().append(b.css({display:"block"})):d.html(b),v.redraw(),v.rendered&&A.is(":visible")&&v.reposition(D.event)}function J(a){var b=C.button,c=C.title;if(!v.rendered)return e;a?(c||I(),H()):b.remove()}function I(){var b=x+"-title";C.titlebar&&G(),C.titlebar=a("<div />",{"class":j+"-titlebar "+(q.style.widget?"ui-widget-header":"")}).append(C.title=a("<div />",{id:b,"class":j+"-title","aria-atomic":d})).insertBefore(C.content),q.content.title.button?H():v.rendered&&v.redraw()}function H(){var b=q.content.title.button,c=typeof b==="string",d=c?b:"Close tooltip";C.button&&C.button.remove(),b.jquery?C.button=b:C.button=a("<a />",{"class":"ui-state-default "+(q.style.widget?"":j+"-icon"),title:d,"aria-label":d}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),C.button.appendTo(C.titlebar).attr("role","button").hover(function(b){a(this).toggleClass("ui-state-hover",b.type==="mouseenter")}).click(function(a){A.hasClass(l)||v.hide(a);return e}).bind("mousedown keydown mouseup keyup mouseout",function(b){a(this).toggleClass("ui-state-active ui-state-focus",b.type.substr(-4)==="down")}),v.redraw()}function G(){C.title&&(C.titlebar.remove(),C.titlebar=C.title=C.button=f,v.reposition())}function F(){var a=q.style.widget;A.toggleClass(k,a).toggleClass(n,!a),C.content.toggleClass(k+"-content",a),C.titlebar&&C.titlebar.toggleClass(k+"-header",a),C.button&&C.button.toggleClass(j+"-icon",!a)}function E(a){var b=0,c,d=q,e=a.split(".");while(d=d[e[b++]])b<e.length&&(c=d);return[c||q,e.pop()]}var v=this,w=document.body,x=j+"-"+r,y=0,z=0,A=a(),B=".qtip-"+r,C,D;v.id=r,v.rendered=e,v.elements=C={target:c},v.timers={img:[]},v.options=q,v.checks={},v.plugins={},v.cache=D={event:{},target:f,disabled:e,attr:u},v.checks.builtin={"^id$":function(b,c,f){var h=f===d?g.nextid:f,i=j+"-"+h;h!==e&&h.length>0&&!a("#"+i).length&&(A[0].id=i,C.content[0].id=i+"-content",C.title[0].id=i+"-title")},"^content.text$":function(a,b,c){L(c)},"^content.title.text$":function(a,b,c){if(!c)return G();!C.title&&c&&I(),K(c)},"^content.title.button$":function(a,b,c){J(c)},"^position.(my|at)$":function(a,b,c){"string"===typeof c&&(a[b]=new h.Corner(c))},"^position.container$":function(a,b,c){v.rendered&&A.appendTo(c)},"^show.ready$":function(){v.rendered?v.show():v.render(1)},"^style.classes$":function(b,c,d){a.attr(A[0],"class",j+" qtip ui-helper-reset "+d)},"^style.widget|content.title":F,"^events.(render|show|move|hide|focus|blur)$":function(b,c,d){A[(a.isFunction(d)?"":"un")+"bind"]("tooltip"+c,d)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)$":function(){N(),M()}},a.extend(v,{render:function(b){if(v.rendered)return v;var f=q.content.title.text,g=a.Event("tooltiprender");a.attr(c[0],"aria-describedby",x),A=C.tooltip=a("<div/>",{id:x,"class":j+" qtip ui-helper-reset "+n+" "+q.style.classes,width:q.style.width||"",role:"alert","aria-live":"polite","aria-atomic":e,"aria-describedby":x+"-content","aria-hidden":d}).toggleClass(l,D.disabled).data("qtip",v).appendTo(q.position.container).append(C.content=a("<div />",{"class":j+"-content",id:x+"-content","aria-atomic":d})),v.rendered=-1,z=1,f&&(I(),K(f)),L(e,e),v.rendered=d,F(),a.each(q.events,function(b,c){a.isFunction(c)&&A.bind(b==="toggle"?"tooltipshow tooltiphide":"tooltip"+b,c)}),a.each(h,function(){this.initialize==="render"&&this(v)}),M(),A.queue("fx",function(a){g.originalEvent=D.event,A.trigger(g,[v]),z=0,v.redraw(),(q.show.ready||b)&&v.show(D.event),a()});return v},get:function(a){var b,c;switch(a.toLowerCase()){case"dimensions":b={height:A.outerHeight(),width:A.outerWidth()};break;case"offset":b=h.offset(A,q.position.container);break;default:c=E(a.toLowerCase()),b=c[0][c[1]],b=b.precedance?b.string():b}return b},set:function(b,c){function m(a,b){var c,d,e;for(c in k)for(d in k[c])if(e=(new RegExp(d,"i")).exec(a))b.push(e),k[c][d].apply(v,b)}var g=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,h=/^content\.(title|attr)|style/i,i=e,j=e,k=v.checks,l;"string"===typeof b?(l=b,b={},b[l]=c):b=a.extend(d,{},b),a.each(b,function(c,d){var e=E(c.toLowerCase()),f;f=e[0][e[1]],e[0][e[1]]="object"===typeof d&&d.nodeType?a(d):d,b[c]=[e[0],e[1],d,f],i=g.test(c)||i,j=h.test(c)||j}),t(q),y=z=1,a.each(b,m),y=z=0,A.is(":visible")&&v.rendered&&(i&&v.reposition(q.position.target==="mouse"?f:D.event),j&&v.redraw());return v},toggle:function(b,c){function l(){b?(a.browser.msie&&A[0].style.removeAttribute("filter"),A.css("overflow","")):A.css({display:"",visibility:"",width:q.style.width||"",opacity:"",left:"",top:""})}if(!v.rendered)if(b)v.render(1);else return v;var d=b?"show":"hide",g=q[d],h=A.is(":visible"),j,k;(typeof b).search("boolean|number")&&(b=!h);if(h===b)return v;if(c){if(/over|enter/.test(c.type)&&/out|leave/.test(D.event.type)&&c.target===q.show.target[0]&&A.has(c.relatedTarget).length)return v;D.event=a.extend({},c)}k=a.Event("tooltip"+d),k.originalEvent=c?D.event:f,A.trigger(k,[v,90]);if(k.isDefaultPrevented())return v;a.attr(A[0],"aria-hidden",!b),b?(D.origin=a.extend({},i),v.focus(c),a.isFunction(q.content.text)&&L(),v.reposition(c),g.solo&&a(m,g.solo).not(A).qtip("hide",k)):(clearTimeout(v.timers.show),delete D.origin,v.blur(c)),A.stop(0,1),a.isFunction(g.effect)?(g.effect.call(A,v),A.queue("fx",function(a){l(),a()})):g.effect===e?(A[d](),l.call(A)):A.fadeTo(90,b?1:0,l),b&&g.target.trigger("qtip-"+r+"-inactive");return v},show:function(a){return v.toggle(d,a)},hide:function(a){return v.toggle(e,a)},focus:function(b){if(!v.rendered)return v;var c=a(m),d=parseInt(A[0].style.zIndex,10),e=g.zindex+c.length,f=a.extend({},b),h,i;A.hasClass(o)||(i=a.Event("tooltipfocus"),i.originalEvent=f,A.trigger(i,[v,e]),i.isDefaultPrevented()||(d!==e&&(c.each(function(){this.style.zIndex>d&&(this.style.zIndex=this.style.zIndex-1)}),c.filter("."+o).qtip("blur",f)),A.addClass(o)[0].style.zIndex=e));return v},blur:function(b){var c=a.extend({},b),d;A.removeClass(o),d=a.Event("tooltipblur"),d.originalEvent=c,A.trigger(d,[v]);return v},reposition:function(c,d){if(!v.rendered||y)return v;y=1;var f=q.position.target,g=q.position,k=g.my,l=g.at,m=g.adjust,n=m.method.split(" "),o=A.outerWidth(),p=A.outerHeight(),r=0,s=0,t=a.Event("tooltipmove"),u=A.css("position")==="fixed",x=g.viewport,z={left:0,top:0},B=(v.plugins.tip||{}).corner,C={horizontal:n[0],vertical:n[1]||n[0],tip:q.style.tip||{},left:function(a){var b=C.horizontal==="shift",c=x.offset.left+x.scrollLeft,d=k.x==="left"?o:k.x==="right"?-o:-o/2,e=l.x==="left"?r:l.x==="right"?-r:-r/2,f=C.tip.width+C.tip.border*2||0,g=B&&B.precedance==="x"&&!b?f:0,h=c-a-g,i=a+o-x.width-c+g,j=d-(k.precedance==="x"||k.x===k.y?e:0),n=k.x==="center";b?(g=B&&B.precedance==="y"?f:0,j=(k.x==="left"?1:-1)*d-g,z.left+=h>0?h:i>0?-i:0,z.left=Math.max(x.offset.left+(g&&B.x==="center"?C.tip.offset:0),a-j,Math.min(Math.max(x.offset.left+x.width,a+j),z.left))):(h>0&&(k.x!=="left"||i>0)?z.left-=j+(n?0:2*m.x):i>0&&(k.x!=="right"||h>0)&&(z.left-=n?-j:j+2*m.x),z.left!==a&&n&&(z.left-=m.x),z.left<c&&-z.left>i&&(z.left=a));return z.left-a},top:function(a){var b=C.vertical==="shift",c=x.offset.top+x.scrollTop,d=k.y==="top"?p:k.y==="bottom"?-p:-p/2,e=l.y==="top"?s:l.y==="bottom"?-s:-s/2,f=C.tip.height+C.tip.border*2||0,g=B&&B.precedance==="y"&&!b?f:0,h=c-a-g,i=a+p-x.height-c+g,j=d-(k.precedance==="y"||k.x===k.y?e:0),n=k.y==="center";b?(g=B&&B.precedance==="x"?f:0,j=(k.y==="top"?1:-1)*d-g,z.top+=h>0?h:i>0?-i:0,z.top=Math.max(x.offset.top+(g&&B.x==="center"?C.tip.offset:0),a-j,Math.min(Math.max(x.offset.top+x.height,a+j),z.top))):(h>0&&(k.y!=="top"||i>0)?z.top-=j+(n?0:2*m.y):i>0&&(k.y!=="bottom"||h>0)&&(z.top-=n?-j:j+2*m.y),z.top!==a&&n&&(z.top-=m.y),z.top<0&&-z.top>i&&(z.top=a));return z.top-a}};if(f==="mouse")l={x:"left",y:"top"},c=c&&(c.type==="resize"||c.type==="scroll")?D.event:!m.mouse&&D.origin?D.origin:i&&(m.mouse||!c||!c.pageX)?{pageX:i.pageX,pageY:i.pageY}:c,z={top:c.pageY,left:c.pageX};else{f==="event"&&(c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?f=D.target=a(c.target):f=D.target),f=a(f).eq(0);if(f.length===0)return v;f[0]===document||f[0]===b?(r=h.iOS?b.innerWidth:f.width(),s=h.iOS?b.innerHeight:f.height(),f[0]===b&&(z={top:!u||h.iOS?(x||f).scrollTop():0,left:!u||h.iOS?(x||f).scrollLeft():0})):f.is("area")&&h.imagemap?z=h.imagemap(f,l):f[0].namespaceURI==="http://www.w3.org/2000/svg"&&h.svg?z=h.svg(f,l):(r=f.outerWidth(),s=f.outerHeight(),z=h.offset(f,g.container,u)),z.offset&&(r=z.width,s=z.height,z=z.offset),z.left+=l.x==="right"?r:l.x==="center"?r/2:0,z.top+=l.y==="bottom"?s:l.y==="center"?s/2:0}z.left+=m.x+(k.x==="right"?-o:k.x==="center"?-o/2:0),z.top+=m.y+(k.y==="bottom"?-p:k.y==="center"?-p/2:0),x.jquery&&f[0]!==b&&f[0]!==w&&C.vertical+C.horizontal!=="nonenone"?(x={elem:x,height:x[(x[0]===b?"h":"outerH")+"eight"](),width:x[(x[0]===b?"w":"outerW")+"idth"](),scrollLeft:u?0:x.scrollLeft(),scrollTop:u?0:x.scrollTop(),offset:x.offset()||{left:0,top:0}},z.adjusted={left:C.horizontal!=="none"?C.left(z.left):0,top:C.vertical!=="none"?C.top(z.top):0}):z.adjusted={left:0,top:0},A.attr("class",function(b,c){return a.attr(this,"class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(j+"-pos-"+k.abbreviation()),t.originalEvent=a.extend({},c),A.trigger(t,[v,z,x.elem||x]);if(t.isDefaultPrevented())return v;delete z.adjusted,d===e||isNaN(z.left)||isNaN(z.top)||!a.isFunction(g.effect)?A.css(z):a.isFunction(g.effect)&&(g.effect.call(A,v,a.extend({},z)),A.queue(function(b){a(this).css({opacity:"",height:""}),a.browser.msie&&this.style.removeAttribute("filter"),b()})),y=0;return v},redraw:function(){if(v.rendered<1||z)return v;var b=j+"-fluid",c=q.position.container,d,e,f,g;z=1,q.style.width?A.css("width",q.style.width):(A.css("width","").addClass(b),e=A.width()+(a.browser.mozilla?1:0),f=A.css("max-width")||"",g=A.css("min-width")||"",d=(f+g).indexOf("%")>-1?c.width()/100:0,f=(f.indexOf("%")>-1?d:1)*parseInt(f,10)||e,g=(g.indexOf("%")>-1?d:1)*parseInt(g,10)||0,e=f+g?Math.min(Math.max(e,g),f):e,A.css("width",Math.round(e)).removeClass(b)),z=0;return v},disable:function(b){var c=l;"boolean"!==typeof b&&(b=!A.hasClass(c)&&!D.disabled),v.rendered?(A.toggleClass(c,b),a.attr(A[0],"aria-disabled",b)):D.disabled=!!b;return v},enable:function(){return v.disable(e)},destroy:function(){var b=c[0],d=a.attr(b,s);v.rendered&&(A.remove(),a.each(v.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(v.timers.show),clearTimeout(v.timers.hide),N(),a.removeData(b,"qtip"),d&&(a.attr(b,"title",d),c.removeAttr(s)),c.removeAttr("aria-describedby").unbind(".qtip");return c}})}function t(b){var c;if(!b||"object"!==typeof b)return e;"object"!==typeof b.metadata&&(b.metadata={type:b.metadata});if("content"in b){if("object"!==typeof b.content||b.content.jquery)b.content={text:b.content};c=b.content.text||e,!a.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery)&&(b.content.text=e),"title"in b.content&&("object"!==typeof b.content.title&&(b.content.title={text:b.content.title}),c=b.content.title.text||e,!a.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery)&&(b.content.title.text=e))}"position"in b&&("object"!==typeof b.position&&(b.position={my:b.position,at:b.position})),"show"in b&&("object"!==typeof b.show&&(b.show.jquery?b.show={target:b.show}:b.show={event:b.show})),"hide"in b&&("object"!==typeof b.hide&&(b.hide.jquery?b.hide={target:b.hide}:b.hide={event:b.hide})),"style"in b&&("object"!==typeof b.style&&(b.style={classes:b.style})),a.each(h,function(){this.sanitize&&this.sanitize(b)});return b}"use strict";var d=!0,e=!1,f=null,g,h,i,j="ui-tooltip",k="ui-widget",l="ui-state-disabled",m="div.qtip."+j,n=j+"-default",o=j+"-focus",p=j+"-hover",q="-31000px",r="_replacedByqTip",s="oldtitle";g=a.fn.qtip=function(b,h,i){var j=(""+b).toLowerCase(),k=f,l=j==="disable"?[d]:a.makeArray(arguments).slice(1),m=l[l.length-1],n=this[0]?a.data(this[0],"qtip"):f;if(!arguments.length&&n||j==="api")return n;if("string"===typeof b){this.each(function(){var b=a.data(this,"qtip");if(!b)return d;m&&m.timeStamp&&(b.cache.event=m);if(j!=="option"&&j!=="options"||!h)b[j]&&b[j].apply(b[j],l);else if(a.isPlainObject(h)||i!==c)b.set(h,i);else{k=b.get(h);return e}});return k!==f?k:this}if("object"===typeof b||!arguments.length){n=t(a.extend(d,{},b));return g.bind.call(this,n,m)}},g.bind=function(b,c){return this.each(function(f){function p(b){function c(){o.render(typeof b==="object"||i.show.ready),k.show.unbind(l.show),k.hide.unbind(l.hide)}if(o.cache.disabled)return e;o.cache.event=a.extend({},b),i.show.delay>0?(clearTimeout(o.timers.show),o.timers.show=setTimeout(c,i.show.delay),l.show!==l.hide&&k.hide.bind(l.hide,function(){clearTimeout(o.timers.show)})):c()}var i,k,l,m=!b.id||b.id===e||b.id.length<1||a("#"+j+"-"+b.id).length?g.nextid++:b.id,n=".qtip-"+m+"-create",o=v.call(this,m,b);if(o===e)return d;i=o.options,a.each(h,function(){this.initialize==="initialize"&&this(o)}),k={show:i.show.target,hide:i.hide.target},l={show:a.trim(""+i.show.event).replace(/ /g,n+" ")+n,hide:a.trim(""+i.hide.event).replace(/ /g,n+" ")+n},/mouse(over|enter)/i.test(l.show)&&!/mouse(out|leave)/i.test(l.hide)&&(l.hide+=" mouseleave"+n),k.show.bind(l.show,p),(i.show.ready||i.prerender)&&p(c)})},h=g.plugins={Corner:function(a){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.precedance=a.charAt(0).search(/^(t|b)/)>-1?"y":"x",this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y},this.abbreviation=function(){var a=this.x.substr(0,1),b=this.y.substr(0,1);return a===b?a:a==="c"||a!=="c"&&b!=="c"?b+a:a+b}},offset:function(c,d,e){function l(a,b){f.left+=b*a.scrollLeft(),f.top+=b*a.scrollTop()}var f=c.offset(),g=d,i=0,j=document.body,k;if(g){do{if(g[0]===j)break;g.css("position")!=="static"&&(k=g.position(),f.left-=k.left+(parseInt(g.css("borderLeftWidth"),10)||0),f.top-=k.top+(parseInt(g.css("borderTopWidth"),10)||0),i++)}while(g=g.offsetParent());(d[0]!==j||i>1)&&l(d,1),(h.iOS<4.1&&h.iOS>3.1||!h.iOS&&e)&&l(a(b),-1)}return f},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_","."))||e,fn:{attr:function(b,c){if(this.length){var d=this[0],e="title",f=a.data(d,"qtip");if(b===e){if(arguments.length<2)return a.attr(d,s);if(typeof f==="object"){f&&f.rendered&&f.options.content.attr===e&&f.cache.attr&&f.set("content.text",c),a.fn["attr"+r].apply(this,arguments),a.attr(d,s,a.attr(d,e));return this.removeAttr(e)}}}},clone:function(b){var c=a([]),d="title",e;e=a.fn["clone"+r].apply(this,arguments).filter("[oldtitle]").each(function(){a.attr(this,d,a.attr(this,s)),this.removeAttribute(s)}).end();return e},remove:a.ui?f:function(b,c){a(this).each(function(){c||(!b||a.filter(b,[this]).length)&&a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}}},a.each(h.fn,function(b,c){if(!c)return d;var e=a.fn[b+r]=a.fn[b];a.fn[b]=function(){return c.apply(this,arguments)||e.apply(this,arguments)}}),g.version="2.0.0pre",g.nextid=0,g.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),g.zindex=15e3,g.defaults={prerender:e,id:e,overwrite:d,content:{text:d,attr:"title",title:{text:e,button:e}},position:{my:"top left",at:"bottom right",target:e,container:e,viewport:e,adjust:{x:0,y:0,mouse:d,resize:d,method:"flip flip"},effect:d},show:{target:e,event:"mouseenter",effect:d,delay:90,solo:e,ready:e},hide:{target:e,event:"mouseleave",effect:d,delay:0,fixed:e,inactive:e,leave:"window",distance:e},style:{classes:"",widget:e,width:e},events:{render:f,move:f,show:f,hide:f,toggle:f,focus:f,blur:f}},h.ajax=function(a){var b=a.plugins.ajax;return"object"===typeof b?b:a.plugins.ajax=new w(a)},h.ajax.initialize="render",h.ajax.sanitize=function(a){var b=a.content,c;b&&"ajax"in b&&(c=b.ajax,typeof c!=="object"&&(c=a.content.ajax={url:c}),"boolean"!==typeof c.once&&c.once&&(c.once=!!c.once))},a.extend(d,g.defaults,{content:{ajax:{loading:d,once:d}}}),h.tip=function(a){var b=a.plugins.tip;return"object"===typeof b?b:a.plugins.tip=new y(a)},h.tip.initialize="render",h.tip.sanitize=function(a){var b=a.style,c;b&&"tip"in b&&(c=a.style.tip,typeof c!=="object"&&(a.style.tip={corner:c}),/string|boolean/i.test(typeof c.corner)||(c.corner=d),typeof c.width!=="number"&&delete c.width,typeof c.height!=="number"&&delete c.height,typeof c.border!=="number"&&c.border!==d&&delete c.border,typeof c.offset!=="number"&&delete c.offset)},a.extend(d,g.defaults,{style:{tip:{corner:d,mimic:e,width:6,height:6,border:d,offset:0}}}),h.imagemap=function(b,c){function l(a,b){var d=0,e=1,f=1,g=0,h=0,i=a.width,j=a.height;while(i>0&&j>0&&e>0&&f>0){i=Math.floor(i/2),j=Math.floor(j/2),c.x==="left"?e=i:c.x==="right"?e=a.width-i:e+=Math.floor(i/2),c.y==="top"?f=j:c.y==="bottom"?f=a.height-j:f+=Math.floor(j/2),d=b.length;while(d--){if(b.length<2)break;g=b[d][0]-a.offset.left,h=b[d][1]-a.offset.top,(c.x==="left"&&g>=e||c.x==="right"&&g<=e||c.x==="center"&&(g<e||g>a.width-e)||c.y==="top"&&h>=f||c.y==="bottom"&&h<=f||c.y==="center"&&(h<f||h>a.height-f))&&b.splice(d,1)}}return{left:b[0][0],top:b[0][1]}}b.jquery||(b=a(b));var d=b.attr("shape").toLowerCase(),e=b.attr("coords").split(","),f=[],g=a('img[usemap="#'+b.parent("map").attr("name")+'"]'),h=g.offset(),i={width:0,height:0,offset:{top:1e10,right:0,bottom:0,left:1e10}},j=0,k=0;h.left+=Math.ceil((g.outerWidth()-g.width())/2),h.top+=Math.ceil((g.outerHeight()-g.height())/2);if(d==="poly"){j=e.length;while(j--)k=[parseInt(e[--j],10),parseInt(e[j+1],10)],k[0]>i.offset.right&&(i.offset.right=k[0]),k[0]<i.offset.left&&(i.offset.left=k[0]),k[1]>i.offset.bottom&&(i.offset.bottom=k[1]),k[1]<i.offset.top&&(i.offset.top=k[1]),f.push(k)}else f=a.map(e,function(a){return parseInt(a,10)});switch(d){case"rect":i={width:Math.abs(f[2]-f[0]),height:Math.abs(f[3]-f[1]),offset:{left:f[0],top:f[1]}};break;case"circle":i={width:f[2]+2,height:f[2]+2,offset:{left:f[0],top:f[1]}};break;case"poly":a.extend(i,{width:Math.abs(i.offset.right-i.offset.left),height:Math.abs(i.offset.bottom-i.offset.top)}),c.string()==="centercenter"?i.offset={left:i.offset.left+i.width/2,top:i.offset.top+i.height/2}:i.offset=l(i,f.slice()),i.width=i.height=0}i.offset.left+=h.left,i.offset.top+=h.top;return i},h.svg=function(b,c){var d=a(document),e=b[0],f={width:0,height:0,offset:{top:1e10,left:1e10}},g,h,i,j,k;if(e.getBBox&&e.parentNode){g=e.getBBox(),h=e.getScreenCTM(),i=e.farthestViewportElement||e;if(!i.createSVGPoint)return f;j=i.createSVGPoint(),j.x=g.x,j.y=g.y,k=j.matrixTransform(h),f.offset.left=k.x,f.offset.top=k.y,j.x+=g.width,j.y+=g.height,k=j.matrixTransform(h),f.width=k.x-f.offset.left,f.height=k.y-f.offset.top,f.offset.left+=d.scrollLeft(),f.offset.top+=d.scrollTop()}return f},h.modal=function(a){var b=a.plugins.modal;return"object"===typeof b?b:a.plugins.modal=new z(a)},h.modal.initialize="render",h.modal.sanitize=function(a){a.show&&(typeof a.show.modal!=="object"?a.show.modal={on:!!a.show.modal}:typeof a.show.modal.on==="undefined"&&(a.show.modal.on=d))},a.extend(d,g.defaults,{show:{modal:{on:e,effect:d,blur:d,escape:d}}}),h.bgiframe=function(b){var c=a.browser,d=b.plugins.bgiframe;if(a("select, object").length<1||(!c.msie||c.version.charAt(0)!=="6"))return e;return"object"===typeof d?d:b.plugins.bgiframe=new A(b)},h.bgiframe.initialize="render"})(jQuery,window)