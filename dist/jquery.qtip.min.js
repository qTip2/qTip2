/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Thu Jan 13 10:18:52 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(b,M,R){function W(d){var a;if(!d)return m;if("object"!==typeof d.metadata)d.metadata={type:d.metadata};if("content"in d){if("object"!==typeof d.content||d.content.jquery)d.content={text:d.content};a=d.content.text||m;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))d.content.text=m;if("title"in d.content){if("object"!==typeof d.content.title)d.content.title={text:d.content.title};a=d.content.title.text||m;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===
typeof a&&!a.jquery))d.content.title.text=m}}if("position"in d)if("object"!==typeof d.position)d.position={my:d.position,at:d.position};if("show"in d)if("object"!==typeof d.show)d.show=d.show.jquery?{target:d.show}:{event:d.show};if("hide"in d)if("object"!==typeof d.hide)d.hide=d.hide.jquery?{target:d.hide}:{event:d.hide};if("style"in d)if("object"!==typeof d.style)d.style={classes:d.style};b.each(b.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(d)});return d}function Z(d,a,o){function g(c){var f,
l=c.split("."),k=a[l[0]];for(c=1;c<l.length;c+=1){f=k[l[c]];if(typeof f==="object"&&!f.jquery&&!f.precedance)k=k[l[c]];else break}return l[c]!==R?[k,l[c]]:[a,l[0]]}function p(c,f){var l={left:0,top:0},k=!b.fn.qtip.plugins.iOS,n=b(f),x;if(f)if(n.css("position")!=="static"){l=p(f);l.left*=-1;l.top*=-1}else if(n.css("overflow")!=="visible"){l.left-=f.scrollLeft;l.top-=f.scrollTop}if(c.offsetParent){do{n=c.offsetParent;x=n===f;l.left+=c.offsetLeft-(k&&n&&!x?n.scrollLeft:0);l.top+=c.offsetTop-(k&&n&&!x?
n.scrollTop:0)}while(c=n)}return l}function i(){return h[0].offsetLeft!==$}function z(){var c=e.elements,f=a.style.widget;h.toggleClass(X,f);c.content.toggleClass(X+"-content",f);c.titlebar&&c.titlebar.toggleClass(X+"-header",f);c.button&&c.button.toggleClass(J+"-icon",!f)}function s(){var c=e.elements;if(c.title){c.titlebar.remove();c.titlebar=c.title=c.button=F;e.reposition()}}function q(){var c=e.elements,f=a.content.title.button;c.button&&c.button.remove();c.button=f.jquery?f:b("<a />",{"class":"ui-state-default "+
(a.style.widget?"":J+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(b("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));c.button.appendTo(c.titlebar).attr("role","button").hover(function(l){b(this).toggleClass("ui-state-hover",l.type==="mouseenter")}).click(function(l){h.hasClass(O)||e.hide(l);return m}).bind("mousedown keydown mouseup keyup mouseout",function(l){b(this).toggleClass("ui-state-active ui-state-focus",l.type.substr(-4)==="down")});e.redraw()}function A(){var c=
e.elements,f=r+"-title";c.titlebar&&s();c.titlebar=b("<div />",{"class":J+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(c.title=b("<div />",{id:f,"class":J+"-title","aria-atomic":u})).insertBefore(c.content);if(a.content.title.button)q();else e.rendered===u&&e.redraw()}function D(c){var f=e.elements.title;if(!e.rendered||!c)return m;if(b.isFunction(c))c=c.call(d,e)||"";c.jquery&&c.length>0?f.empty().append(c.css({display:"block"})):f.html(c);e.redraw();e.rendered===u&&e.reposition(e.cache.event)}
function H(c){var f=e.elements.content;if(!e.rendered||!c)return m;if(b.isFunction(c))c=c.call(d,e)||"";c.jquery&&c.length>0?f.empty().append(c.css({display:"block"})):f.html(c);h.queue("fx",function(l){function k(x){n=n.not(x);if(n.length===0){e.redraw();e.rendered===u&&e.reposition(e.cache.event);l()}}var n=b("img:not([height]):not([width])",f);n.each(function(x,E){var I=["abort","error","load","unload",""].join(".qtip-image ");b(this).bind(I,function(){clearTimeout(e.timers.img[x]);k(this)});(function B(){if(E.height)return k(E);
e.timers.img[x]=setTimeout(B,20)})();return u});n.length===0&&k(n)});return e}function j(c,f,l,k){function n(y){if(h.hasClass(O))return m;G.show.trigger("qtip-"+o+"-inactive");clearTimeout(e.timers.show);clearTimeout(e.timers.hide);var w=function(){e.show(y)};if(a.show.delay>0)e.timers.show=setTimeout(w,a.show.delay);else w()}function x(y){if(h.hasClass(O))return m;var w=b(y.relatedTarget||y.target).parents(T)[0]===h[0],S=b(y.relatedTarget||y.target)[0]===G.show[0];clearTimeout(e.timers.show);clearTimeout(e.timers.hide);
if(a.hide.fixed&&(C.target==="mouse"&&w||/mouse(out|leave|move)/.test(y.type)&&(w||S))){y.stopPropagation();y.preventDefault();return m}h.stop(1,1);if(a.hide.delay>0)e.timers.hide=setTimeout(function(){e.hide(y)},a.hide.delay);else e.hide(y)}function E(y){if(h.hasClass(O))return m;clearTimeout(e.timers.inactive);e.timers.inactive=setTimeout(function(){e.hide(y)},a.hide.inactive)}function I(y){if(!e.cache.processing){e.cache.processing=1;i()&&e.reposition(y);e.cache.processing=0}}var B=".qtip-"+o,
C=a.position,G={show:a.show.target,hide:a.hide.target,container:C.container[0]===v?document:C.container},N={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},P=b.browser.msie&&parseInt(b.browser.version,10)===6;if(l){if(a.hide.fixed){G.hide=G.hide.add(h);h.bind("mouseover"+B,function(){h.hasClass(O)||clearTimeout(e.timers.hide)})}h.bind("mouseenter"+B+" mouseleave"+B,function(y){e[y.type==="mouseenter"?"focus":"blur"](y)})}if(f){if("number"===typeof a.hide.inactive){G.show.bind("qtip-"+
o+"-inactive",E);b.each(b.fn.qtip.inactiveEvents,function(y,w){G.hide.add(e.elements.tooltip).bind(w+B+"-inactive",E)})}b.each(N.hide,function(y,w){var S=b.inArray(w,N.show);if(S>-1&&b(G.hide).add(G.show).length===b(G.hide).length||w==="unfocus"){G.show.bind(w+B,function(K){i()?x(K):n(K)});delete N.show[S]}else G.hide.bind(w+B,x)})}c&&b.each(N.show,function(y,w){G.show.bind(w+B,n)});if(k){if(C.adjust.resize||C.viewport)b(b.event.special.resize?C.viewport:M).bind("resize"+B,I);if(C.viewport||P&&h.css("position")===
"fixed")b(C.viewport).bind("scroll"+B,I);/unfocus/i.test(a.hide.event)&&b(document).bind("mousedown"+B,function(y){b(y.target).parents(T).length===0&&b(y.target).add(d).length>1&&i()&&!h.hasClass(O)&&e.hide(y)});C.target==="mouse"&&b(document).bind("mousemove"+B,function(y){if(C.adjust.mouse&&!h.hasClass(O)&&i())e.reposition(y||b.fn.qtip.mouse)})}}function t(c,f,l,k){k=parseInt(k,10)!==0;var n=".qtip-"+o;f={show:c?a.show.target:F,hide:f?a.hide.target:F,tooltip:l?e.elements.tooltip:F,content:l?e.elements.content:
F,container:k?a.position.container[0]===v?document:a.position.container:F,window:k?M:F};if(e.rendered)b([]).pushStack(b.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(n);else c&&f.show.unbind(n+"-create")}var e=this,v=document.body,r=J+"-"+o,h;e.id=o;e.rendered=m;e.elements={target:d};e.timers={img:[]};e.options=a;e.plugins={};e.cache={event:{},target:F,disabled:m,lastFocus:v};b.extend(e,{render:function(c){if(e.rendered)return m;var f=e.elements,
l=a.content.text,k=a.content.title.text,n=b.Event("tooltiprender");d.attr({"aria-owns":r,"aria-controls":r,"aria-haspopup":u,"aria-describedby":r});h=f.tooltip=b("<div/>").attr({id:r,"class":J+" qtip ui-helper-reset "+a.style.classes,role:"alert","aria-live":"polite","aria-atomic":m,"aria-describedby":r+"-content","aria-hidden":u}).toggleClass(O,e.cache.disabled).data("qtip",e).appendTo(a.position.container).append(f.content=b("<div />",{"class":J+"-content",id:r+"-content","aria-atomic":u}));e.rendered=
u;if(k){A();D(k)}H(l);b.each(b.fn.qtip.plugins,function(){this.initialize==="render"&&this(e)});j(1,1,1,1);b.each(a.events,function(x,E){if(E)h.bind(x==="toggle"?"tooltipshow tooltiphide":"tooltip"+x,E)});h.queue("fx",function(x){n.originalEvent=e.cache.event;h.trigger(n,[e]);if(a.show.ready||c){h.hide();e.show(e.cache.event)}x()});return e},get:function(c){switch(c.toLowerCase()){case "dimensions":c={height:h.outerHeight(),width:h.outerWidth()};break;case "offset":c=p(h[0],a.position.container[0]);
break;default:c=g(c.toLowerCase());c=c[0].precedance?c[0].string():c[0].jquery?c[0]:c[0][c[1]];break}return c},set:function(c,f){c=c.toLowerCase();var l=g(c),k=e.elements,n,x,E,I={builtin:{"^id$":function(){var B=f===u?b.fn.qtip.nextid:f,C=J+"-"+B;if(B!==m&&B.length>0&&!b("#"+C).length){h[0].id=C;k.content[0].id=C+"-content";k.title[0].id=C+"-title"}},"^content.text$":function(){H(f)},"^content.title.text$":function(){if(!f)return s();!e.elements.title&&f&&A();D(f)},"^content.title.button$":function(){var B=
e.elements.button,C=e.elements.title;if(e.rendered)if(f){C||A();q()}else B.remove()},"^position.(my|at)$":function(){var B=/my$/i.test(c)?"my":"at";if("string"===typeof f)a.position[B]=new b.fn.qtip.plugins.Corner(f)},"^position.container$":function(){e.rendered===u&&h.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(B,C,G,N){var P=c.search(/fixed/i)>-1?[0,[0,1,1,1]]:[c.substr(0,3),c.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(P[0])B[C]=N;t.apply(e,P[1]);if(P[0])B[C]=G;j.apply(e,
P[1])},"^show.ready$":function(){e.rendered===m&&e.show()},"^style.classes$":function(){h.attr("class",J+" qtip ui-helper-reset "+f)},"^style.widget|content.title":z,"^events.(render|show|move|hide|focus|blur)$":function(B,C,G){k.tooltip[(b.isFunction(f)?"":"un")+"bind"]("tooltip"+C,G)},"^position.(my|at|adjust|target|container)|style|content":function(){e.reposition()}}};b.each(e.plugins,function(B){if("object"===typeof this.checks)I[B]=this.checks});n=l[0][l[1]];l[0][l[1]]=f.nodeType?b(f):f;W(a);
for(x in I)for(E in I[x])RegExp(E,"i").test(c)&&I[x][E].call(e,l[0],l[1],f,n);return e},toggle:function(c,f){function l(){if(c)b.browser.msie&&h[0].style.removeAttribute("filter");else h.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(e.rendered===m)return m;var k=c?"show":"hide",n=a[k],x=i();if((typeof c).search("boolean|number"))c=!x;if(!x&&!c||h.is(":animated"))return e;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(e.cache.event.type)&&f.target===a.show.target[0]&&
h.has(f.relatedTarget).length)return e;e.cache.event=b.extend({},f)}x=b.Event("tooltip"+k);x.originalEvent=f?e.cache.event:F;h.trigger(x,[e,90]);if(x.isDefaultPrevented())return e;h.attr("aria-hidden",!!!c);if(c){h.hide().css({visibility:""});e.focus(f);e.reposition(f,0);n.solo&&b(T).not(h).qtip("hide")}else{clearTimeout(e.timers.show);e.blur(f)}h.stop(1,1);if(b.isFunction(n.effect)){n.effect.call(h,e);h.queue("fx",function(E){l.call(this,E);E()})}else if(n.effect===m){h[k]();l.call(h)}else h.fadeTo(90,
c?1:0,l);c&&n.target.trigger("qtip-"+o+"-inactive");return b.fn.qtip.lastShown=e},show:function(c){e.toggle(u,c)},hide:function(c){e.toggle(m,c)},focus:function(c){if(e.rendered===m)return m;var f=b(T),l=parseInt(h[0].style.zIndex,10),k=b.fn.qtip.zindex+f.length;c=b.extend({},c);if(!h.hasClass(V)){if(l!==k){f.each(function(){if(this.style.zIndex>l)this.style.zIndex-=1});b(T+"."+V).qtip("blur",c)}e.cache.lastFocus=document.activeElement;f=b.Event("tooltipfocus");f.originalEvent=c;h.trigger(f,[e,k]);
if(!f.isDefaultPrevented())h.addClass(V)[0].style.zIndex=k}return e},blur:function(c){c=b.extend({},c);var f;h.removeClass(V);f=b.Event("tooltipblur");f.originalEvent=c;h.trigger(f,[e])},reposition:function(c,f){if(e.rendered===m)return m;var l=a.position.target,k=a.position,n=k.my,x=k.at,E=k.adjust,I=h.outerWidth(),B=h.outerHeight(),C=0,G=0,N=b.Event("tooltipmove"),P=h.css("position")==="fixed",y=k.viewport.jquery?k.viewport:b(M),w={left:0,top:0},S={left:function(K){var L=y.scrollLeft,Q=x.x==="left"?
C:x.x==="right"?-C:-C/2,U=L-K;L=K+I-y.width-L;Q=(n.x==="left"?I:n.x==="right"?-I:-I/2)-(n.precedance==="x"||n.x===n.y?Q:0);if(U>0&&(n.x!=="left"||L>0))w.left-=Q;else if(L>0&&(n.x!=="right"||U>0))w.left-=(n.x==="center"?-1:1)*Q+2*E.x;if(w.left<0&&-w.left>L)w.left=K;return w.left-K},top:function(K){var L=y.scrollTop,Q=x.y==="top"?G:x.y==="bottom"?-G:-G/2,U=L-K;L=K+B-y.height-L;Q=(n.y==="top"?B:n.y==="bottom"?-B:-B/2)-(n.precedance==="y"||n.x===n.y?Q:0);if(U>0&&(n.y!=="top"||L>0))w.top-=Q;else if(L>
0&&(n.y!=="bottom"||U>0))w.top-=(n.y==="center"?-1:1)*Q+2*E.y;if(w.top<0&&-w.top>L)w.top=K;return w.top-K}};f=f===R||!!f||m;y=!y?m:{elem:y,height:y[(y[0]===M?"h":"outerH")+"eight"](),width:y[(y[0]===M?"w":"outerW")+"idth"](),scrollLeft:y.scrollLeft(),scrollTop:y.scrollTop()};if(l==="mouse"){x={x:"left",y:"top"};c=c&&(c.type==="resize"||c.type==="scroll")?e.cache.event:E.mouse||!c||!c.pageX?b.extend({},b.fn.qtip.mouse):c;w={top:c.pageY,left:c.pageX}}else{if(l==="event")l=c&&c.target&&c.type!=="scroll"&&
c.type!=="resize"?e.cache.target=b(c.target):e.cache.target;l=b(l).eq(0);if(l.length===0)return e;else if(l[0]===document||l[0]===M){C=l.width();G=l.height();if(l[0]===M)w={top:P?0:y.scrollTop,left:P?0:y.scrollLeft}}else if(l.is("area")&&b.fn.qtip.plugins.imagemap){w=b.fn.qtip.plugins.imagemap(l,x);C=w.width;G=w.height;w=w.offset}else{C=l.outerWidth();G=l.outerHeight();w=p(l[0],k.container[0])}w.left+=x.x==="right"?C:x.x==="center"?C/2:0;w.top+=x.y==="bottom"?G:x.y==="center"?G/2:0}w.left+=E.x+(n.x===
"right"?-I:n.x==="center"?-I/2:0);w.top+=E.y+(n.y==="bottom"?-B:n.y==="center"?-B/2:0);w.adjusted=k.viewport.jquery&&l[0]!==M&&l[0]!==v?{left:S.left(w.left),top:S.top(w.top)}:{left:0,top:0};h.attr("class",function(){return b(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(J+"-pos-"+n.abbreviation());N.originalEvent=b.extend({},c);h.trigger(N,[e,w,y.elem]);if(N.isDefaultPrevented())return e;delete w.adjusted;if(!f||!isNaN(w.left,w.top))h.css(w);else if(i()&&b.isFunction(k.effect)){k.effect.call(h,
e,w);h.queue(function(K){b(this).css({opacity:"",height:""});b.browser.msie&&this.style&&this.style.removeAttribute("filter");K()})}return e},redraw:function(){if(!e.rendered||!(b.browser.msie&&b.browser.version<8))return m;var c=J+"-fluid",f;h.css({width:"auto",height:"auto"}).addClass(c);f={height:h.outerHeight(),width:h.outerWidth()};b.each(["width","height"],function(l,k){var n=parseInt(h.css("max-"+k),10)||0,x=parseInt(h.css("min-"+k),10)||0;f[k]=n+x?Math.min(Math.max(f[k],x),n):f[k]});h.css(f).removeClass(c)},
disable:function(c){var f=O;if("boolean"!==typeof c)c=!(h.hasClass(f)||e.cache.disabled);if(e.rendered){h.toggleClass(f,c);h.attr("aria-disabled",c)}else e.cache.disabled=!!c;return e},destroy:function(){var c=d.data("oldtitle");if(e.rendered){h.remove();b.each(e.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(e.timers.show);clearTimeout(e.timers.hide);t(1,1,1,1);d.removeData("qtip");c&&d.attr("title",c);d.removeAttr("aria-describedby");return d}})}function aa(d,a){var o,
g,p=b(this),i=b(document.body),z=this===document?i:p;g=p.metadata?p.metadata(a.metadata):F;var s=b.extend(u,{},b.fn.qtip.defaults,a,W((g&&a.metadata.type==="html5"?g[a.metadata.name]:F)||g));p.removeData("metadata");g=s.position;if("boolean"===typeof s.content.text)if(s.content.attr!==m&&p.attr(s.content.attr))s.content.text=p.attr(s.content.attr);else return m;if(g.container===m)g.container=i;if(g.target===m)g.target=z;if(s.show.target===m)s.show.target=z;if(s.hide.target===m)s.hide.target=z;if(s.position.viewport===
u)s.position.viewport=g.container;g.at=new b.fn.qtip.plugins.Corner(g.at);g.my=new b.fn.qtip.plugins.Corner(g.my);if(p.data("qtip"))if(s.overwrite)p.qtip("destroy");else if(s.overwrite===m)return m;p.attr("title")&&p.data("oldtitle",p.attr("title")).removeAttr("title");o=new Z(p,s,d);p.data("qtip",o);p.bind("remove.qtip",function(){o.destroy()});return o}function ba(d){var a=this,o=d.elements.tooltip,g=d.options.content.ajax;a.checks={"^content.ajax":function(p,i){if(i==="once")a.once();else g&&g.url&&
a.load()}};b.extend(a,{init:function(){if(g&&g.url){a.load();o.one("tooltipshow",a.once)}},once:function(){g.once?a.destroy():o.bind("tooltipshow.qtip-ajax",a.load)},load:function(){b.ajax(b.extend({success:function(p){d.set("content.text",p)},error:function(p,i,z){d.set("content.text",i+": "+z)},context:d},g));return a},destroy:function(){o.unbind(".qtip-ajax")}});a.init()}function Y(d,a,o){var g=Math.ceil(a/2),p=Math.ceil(o/2);a={bottomright:[[0,0],[a,o],[a,0]],bottomleft:[[0,0],[a,0],[0,o]],topright:[[0,
o],[a,0],[a,o]],topleft:[[0,0],[0,o],[a,o]],topcenter:[[0,o],[g,0],[a,o]],bottomcenter:[[0,0],[a,0],[g,o]],rightcenter:[[0,0],[a,p],[0,o]],leftcenter:[[a,0],[a,o],[0,p]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=a.topleft;return a[d.string()]}function ca(d){function a(j,t,e){if(i.tip){j=b.extend({},g.corner);t=e.adjusted;var v;if(g.corner.fixed!==u){if(t.left)j.x=j.x==="center"?t.left>0?"left":"right":j.x==="left"?"right":"left";if(t.top)j.y=j.y==="center"?
t.top>0?"top":"bottom":j.y==="top"?"bottom":"top";if(j.string()!==s.corner&&(s.top!==t.top||s.left!==t.left))v=g.update(j)}v||(v=g.position(j,0));if(v.right!==R)v.left=v.right;if(v.bottom!==R)v.top=v.bottom;v.option=Math.max(0,p.offset);e.left-=v.left.charAt?v.option:(v.right?-1:1)*v.left;e.top-=v.top.charAt?v.option:(v.bottom?-1:1)*v.top;s.left=t.left;s.top=t.top;s.corner=j.string()}}function o(j,t,e){t=!t?j[j.precedance]:t;t="border-"+t+"-width";j=parseInt((i.titlebar&&j.y==="top"?i.titlebar:i.content).css(t),
10);return(e?j||parseInt(z.css(t),10):j)||0}var g=this,p=d.options.style.tip,i=d.elements,z=i.tooltip,s={top:0,left:0,corner:""},q={width:p.width,height:p.height},A={},D=p.border||0,H=p.method||m;g.corner=F;g.mimic=F;g.checks={"^position.my|style.tip.(corner|mimic|method|border)$":function(){g.init()||g.destroy();d.reposition()},"^style.tip.(height|width)$":function(){q={width:p.width,height:p.height};g.create();g.update();d.reposition()},"^content.title.text|style.(classes|widget)$":function(){i.tip&&
g.update()}};b.extend(g,{init:function(){var j=g.detectCorner();if(j){if(H!=="polygon")H=b("<canvas />")[0].getContext?"canvas":b.browser.msie?"vml":"polygon";g.create();g.update();z.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",a)}return j},detectCorner:function(){var j=p.corner,t=d.options.position,e=t.at;t=t.my.string?t.my.string():t.my;if(j===m||t===m&&e===m)return m;else if(j===u)g.corner=new b.fn.qtip.plugins.Corner(t);else if(!j.string){g.corner=new b.fn.qtip.plugins.Corner(j);g.corner.fixed=
u}return g.corner.string()!=="centercenter"},detectColours:function(){var j=i.tip.css({backgroundColor:"",border:""}),t=g.corner,e=t[t.precedance],v="border-"+e+"-color";e="border"+e.charAt(0)+e.substr(1)+"Color";var r=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;t=i.titlebar&&(t.y==="top"||t.y==="center"&&j.position().top+q.height/2+p.offset<i.titlebar.outerHeight(1))?i.titlebar:i.content;A.fill=j.css("background-color")||"transparent";A.border=j[0].style[e];if(!A.fill||r.test(A.fill)){A.fill=t.css("background-color");
if(r.test(A.fill))A.fill=z.css("background-color")}if(!A.border||r.test(A.border)){A.border=z.css(v);if(r.test(A.border)||A.border===b(document.body).css("color"))A.border=t.css(v)||A.fill}b("*",j).add(j).css("background-color","transparent").css("border",0)},create:function(){var j=q.width,t=q.height;i.tip&&i.tip.remove();i.tip=b("<div />",{"class":"ui-tooltip-tip"}).css(q).prependTo(z);switch(H){case "canvas":b('<canvas height="'+t+'" width="'+j+'" />').appendTo(i.tip)[0].getContext("2d").save();
break;case "vml":j='<vml:shape coordorigin="0,0" coordsize="'+j+" "+t+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+j+"px; height:"+t+'px;"></vml:shape>';i.tip.html(D?j+=j:j);break;case "polygon":i.tip.append('<div class="ui-tooltip-tip-inner" />').append(D?'<div class="ui-tooltip-tip-border" />':"");break}},update:function(j){var t=i.tip.children(),e=q.width,v=q.height,r=p.mimic,h,c,f,l,k;if(!j)j=g.corner;
if(r===m)r=j;else{r=new b.fn.qtip.plugins.Corner(r);r.precedance=j.precedance;if(r.x==="inherit")r.x=j.x;else if(r.y==="inherit")r.y=j.y;else if(r.x===r.y)r[j.precedance]=j[j.precedance]}D=p.border===u?o(j,F,u):p.border;h=D>0?0:1;l=r.string().indexOf("center")>-1;k=Math[/b|r/.test(r[r.precedance==="y"?"x":"y"])?"ceil":"floor"];j=g.position(j,1);g.detectColours();switch(H){case "canvas":c=t[0].getContext("2d");c.restore&&c.restore();c.clearRect(0,0,3E3,3E3);for(f=Y(r,e,v);h<2;h++){if(h){c.save();c.translate(k((r.x===
"left"?1:r.x==="right"?-1:0)*(D+1)*(r.precedance==="y"?0.5:1)),k((r.y==="top"?1:r.y==="bottom"?-1:0)*(D+1)*(r.precedance==="x"?0.5:1)))}c.beginPath();c.moveTo(f[0][0],f[0][1]);c.lineTo(f[1][0],f[1][1]);c.lineTo(f[2][0],f[2][1]);c.closePath();c.fillStyle=A[h?"fill":"border"];c.fill()}break;case "vml":f=Y(r,e,v);f="m"+f[0][0]+","+f[0][1]+" l"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" xe";t.each(function(n){b(this).attr({path:f,fillcolor:A[n||!D?"fill":"border"]}).css("antialias",""+l)});break;case "polygon":t.removeAttr("style").css({position:"absolute",
left:0,top:0}).each(function(n){var x={x:r.precedance==="x"?r.x==="left"?"right":"left":r.x,y:r.precedance==="y"?r.y==="top"?"bottom":"top":r.y},E=r.x==="center"?["left","right",x.y,v,e]:["top","bottom",x.x,e,v];n=A[!n&&D?"border":"fill"];r.x==="center"||r.y==="center"?b(this).css("border-"+E[2],E[3]+"px solid "+n).css("border-"+E[0],k(E[4]/2)+"px dashed transparent").css("border-"+E[1],k(E[4]/2)+"px dashed transparent"):b(this).css("border-width",k(v/2)+"px "+k(e/2)+"px").css("border-"+x.x,k(e/2)+
"px solid "+n).css("border-"+x.y,k(v/2)+"px solid "+n)});break}if(H!=="canvas"&&D){h=[D*2.75,D];h=r.precedance==="y"?[r.x==="left"?h[1]:r.x==="right"?-h[1]:0,r.y==="bottom"?-h[0]:h[0]]:[r.x==="left"?h[0]:-h[0],r.y==="bottom"?-h[1]:r.y==="top"?h[1]:0];t.eq(1).css({left:h[0],top:h[1]})}return j},position:function(j,t){var e=i.tip,v={},r=Math.max(0,p.offset),h,c;if(p.corner===m||!e)return m;j=j||g.corner;h=j.precedance;c=q[h==="x"?"width":"height"];b.each(h==="y"?[j.x,j.y]:[j.y,j.x],function(f,l){var k;
if(l==="center"){k=h==="y"?"left":"top";v[k]="50%";v["margin-"+k]=-Math.floor(c/2)+r}else{o(j,l,u);if(f||D===R)k=o(j,l);else{k=b.browser.mozilla;var n=j.y+(k?"":"-")+j.x;k=(k?"-moz-":b.browser.webkit?"-webkit-":"")+(k?"border-radius-"+n:"border-"+n+"-radius");k=parseInt((i.titlebar&&j.y==="top"?i.titlebar:i.content).css(k),10)||parseInt(z.css(k),10)||0;k=r+k}v[l]=k}});v[j[h]]-=c;t&&e.css({top:"",bottom:"",left:"",right:"",margin:""}).css(v);return v},destroy:function(){i.tip&&i.tip.remove();z.unbind(".qtip-tip")}});
g.init()}function da(d){var a=this,o=d.options.show.modal,g=d.elements,p=g.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();g.overlay.toggle(p.is(":visible"))}};b.extend(a,{init:function(){if(o.on){p.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(i,z,s){i=i.type.replace("tooltip","");b.isFunction(o[i])?o[i].call(g.overlay,s,z):a[i](s)});a.create();o.blur===u&&g.overlay.unbind(".qtipmodal"+d.id).bind("click.qtipmodal"+d.id,function(){d.hide.call(d)})}},
create:function(){var i=b("#qtip-overlay");if(i.length)g.overlay=i;else{g.overlay=b("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(p.css("z-index"),10)-1}}).appendTo(document.body);b(M).bind("resize.qtipmodal",function(){g.overlay.css({height:Math.max(b(M).height(),b(document).height()),width:Math.max(b(M).width(),b(document).width())})}).trigger("resize")}},toggle:function(i){var z=g.overlay,s=d.options.show.modal.effect,q=i?"show":"hide";
z.stop(u,m);if(b.isFunction(s))s.call(z,i);else s===m?z[q]():z.fadeTo(90,i?0.7:0,function(){i||b(this).hide()})},show:function(){a.toggle(u)},hide:function(){a.toggle(m)},destroy:function(){var i=u;b("*").each(function(){var z=b(this).data("qtip");if(z&&z.id!==d.id&&z.options.show.modal)return i=m});if(i){g.overlay.remove();b(M).unbind(".qtipmodal")}else g.overlay.unbind(".qtipmodal"+d.id);p.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function ea(d){var a=this,o=d.elements,g=
o.tooltip,p=".bgiframe-"+d.id,i="tooltipmove"+p+" tooltipshow"+p;b.extend(a,{init:function(){o.bgiframe=b('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');o.bgiframe.appendTo(g);g.bind(i,a.adjust)},adjust:function(){var z=d.get("dimensions"),s=d.plugins.tip,q=d.elements.tip,A;A=parseInt(g.css("border-left-width"),10)||0;A={left:-A,top:-A};if(s&&q){s=s.corner.precedance===
"x"?["width","left"]:["height","top"];A[s[1]]-=q[s[0]]()}o.bgiframe.css(A).css(z)},destroy:function(){a.iframe.remove();g.unbind(i)}});a.init()}var u=true,m=false,F=null,J="ui-tooltip",X="ui-widget",O="ui-state-disabled",T=".qtip."+J,V=J+"-focus",$="-31000px";b.fn.qtip=function(d,a,o){var g=String(d).toLowerCase(),p=F,i=g==="disable"?[u]:b.makeArray(arguments).slice(1,10),z=i[i.length-1],s;if(!arguments.length&&this.data("qtip")||g==="api")return(s=this.data("qtip"))?s:R;else if("string"===typeof d){this.each(function(){var q=
b(this).data("qtip");if(!q)return u;if(/option|set/.test(g)&&a)if(o!==R)q.set(a,o);else p=q.get(a);else{if(!q.rendered&&(g==="show"||g==="toggle")){if(z&&z.timeStamp)q.cache.event=z;q.render(1)}else if(g==="enable"){g="disable";i=[m]}q[g]&&q[g].apply(q[g],i)}});return p!==F?p:this}else if("object"===typeof d||!arguments.length){s=W(b.extend(u,{},d));return b.fn.qtip.bind.call(this,s,z)}};b.fn.qtip.bind=function(d,a){return this.each(function(){function o(A){function D(){q.render(typeof A==="object"||
g.show.ready);p.show.unbind(i.show);p.hide.unbind(i.hide)}if(q.cache.disabled)return m;q.cache.event=b.extend({},A);if(g.show.delay>0){clearTimeout(q.timers.show);q.timers.show=setTimeout(D,g.show.delay);i.show!==i.hide&&p.hide.bind(i.hide,function(){clearTimeout(q.timers.show)})}else D()}var g,p,i,z=d.id=!d.id||d.id===m||d.id.length<1||b("#"+J+"-"+d.id).length?b.fn.qtip.nextid++:d.id,s=".qtip-"+z+"-create",q=aa.call(this,z,d);if(q===m)return u;g=q.options;b.each(b.fn.qtip.plugins,function(){this.initialize===
"initialize"&&this(q)});p={show:g.show.target,hide:g.hide.target};i={show:String(g.show.event).replace(" ",s+" ")+s,hide:String(g.hide.event).replace(" ",s+" ")+s};p.show.bind(i.show,o);if(g.show.ready||g.prerender)o(a)})};b.each({attr:function(d){var a=b(this),o=a.data("qtip");return arguments.length===1&&d==="title"&&o&&o.rendered===u?a.data("oldtitle"):F},remove:b.ui?F:function(d,a){b(this).each(function(){if(!a)if(!d||b.filter(d,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})})}},
function(d,a){if(!a)return u;b.fn["Old"+d]=b.fn[d];b.fn[d]=function(){return a.apply(this,arguments)||b.fn["Old"+d].apply(this,arguments)}});b(document).ready(function(){var d=document,a=d.body;b(d).bind("mousemove.qtip",function(o){b.fn.qtip.mouse={pageX:o.pageX,pageY:o.pageY}});d.activeElement===R&&d.addEventListener("focus",function(o){if(o&&o.target)d.activeElement=o.target===d?a:o.target},true)});b.fn.qtip.version="2.0.0pre";b.fn.qtip.nextid=0;b.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");
b.fn.qtip.zindex=15E3;b.fn.qtip.plugins={Corner:function(d){d=String(d).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(d.match(/left|right/i)||d.match(/center/)||["inherit"])[0].toLowerCase();this.y=(d.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=d.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),o=this.y.substr(0,1);
return a===o?a:a==="c"||a!=="c"&&o!=="c"?o+a:a+o}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};b.fn.qtip.defaults={prerender:m,id:m,overwrite:u,metadata:{type:"class"},content:{text:u,attr:"title",title:{text:m,button:m}},position:{my:"top left",at:"bottom right",target:m,container:m,viewport:m,adjust:{x:0,y:0,mouse:u,resize:u},effect:u},show:{target:m,event:"mouseenter",effect:u,delay:90,solo:m,ready:m},hide:{target:m,
event:"mouseleave",effect:u,delay:0,fixed:m,inactive:m},style:{classes:"",widget:m},events:{render:F,move:F,show:F,hide:F,toggle:F,focus:F,blur:F}};b.fn.qtip.plugins.ajax=function(d){var a=d.plugins.ajax;return"object"===typeof a?a:d.plugins.ajax=new ba(d)};b.fn.qtip.plugins.ajax.initialize="render";b.fn.qtip.plugins.ajax.sanitize=function(d){var a=d.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=d.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};b.extend(u,
b.fn.qtip.defaults,{content:{ajax:{once:u}}});b.fn.qtip.plugins.tip=function(d){var a=d.plugins.tip;return"object"===typeof a?a:d.plugins.tip=new ca(d)};b.fn.qtip.plugins.tip.initialize="render";b.fn.qtip.plugins.tip.sanitize=function(d){var a=d.style;if(a&&"tip"in a){a=d.style.tip;if(typeof a!=="object")d.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=u;if(typeof a.method!=="string")a.method=u;if(!/canvas|polygon/i.test(a.method))a.method=u;typeof a.width!=="number"&&delete a.width;
typeof a.height!=="number"&&delete a.height;typeof a.border!=="number"&&a.border!==u&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};b.extend(u,b.fn.qtip.defaults,{style:{tip:{corner:u,mimic:m,method:u,width:8,height:8,border:u,offset:0}}});b.fn.qtip.plugins.imagemap=function(d,a){function o(H,j){for(var t=0,e=1,v=1,r=0,h=0,c=H.width,f=H.height;c>0&&f>0&&e>0&&v>0;){c=Math.floor(c/2);f=Math.floor(f/2);if(a.x==="left")e=c;else if(a.x==="right")e=H.width-c;else e+=Math.floor(c/2);if(a.y===
"top")v=f;else if(a.y==="bottom")v=H.height-f;else v+=Math.floor(f/2);for(t=j.length;t--;){if(j.length<2)break;r=j[t][0]-H.offset.left;h=j[t][1]-H.offset.top;if(a.x==="left"&&r>=e||a.x==="right"&&r<=e||a.x==="center"&&(r<e||r>H.width-e)||a.y==="top"&&h>=v||a.y==="bottom"&&h<=v||a.y==="center"&&(h<v||h>H.height-v))j.splice(t,1)}}return{left:j[0][0],top:j[0][1]}}var g=d.attr("shape").toLowerCase(),p=d.attr("coords").split(","),i=[],z=b('img[usemap="#'+d.parent("map").attr("name")+'"]'),s=z.offset(),
q={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},A=0,D=0;s.left+=Math.ceil((z.outerWidth()-z.width())/2);s.top+=Math.ceil((z.outerHeight()-z.height())/2);if(g==="poly")for(A=p.length;A--;){D=[parseInt(p[--A],10),parseInt(p[A+1],10)];if(D[0]>q.offset.right)q.offset.right=D[0];if(D[0]<q.offset.left)q.offset.left=D[0];if(D[1]>q.offset.bottom)q.offset.bottom=D[1];if(D[1]<q.offset.top)q.offset.top=D[1];i.push(D)}else i=b.map(p,function(H){return parseInt(H,10)});switch(g){case "rect":q=
{width:Math.abs(i[2]-i[0]),height:Math.abs(i[3]-i[1]),offset:{left:i[0],top:i[1]}};break;case "circle":q={width:i[2]+2,height:i[2]+2,offset:{left:i[0],top:i[1]}};break;case "poly":b.extend(q,{width:Math.abs(q.offset.right-q.offset.left),height:Math.abs(q.offset.bottom-q.offset.top)});q.offset=a.string()==="centercenter"?{left:q.offset.left+q.width/2,top:q.offset.top+q.height/2}:o(q,i.slice());q.width=q.height=0;break}q.offset.left+=s.left;q.offset.top+=s.top;return q};b.fn.qtip.plugins.modal=function(d){var a=
d.plugins.modal;return"object"===typeof a?a:d.plugins.modal=new da(d)};b.fn.qtip.plugins.modal.initialize="render";b.fn.qtip.plugins.modal.sanitize=function(d){if(d.show)if(typeof d.show.modal!=="object")d.show.modal={on:!!d.show.modal};else if(typeof d.show.modal.on==="undefined")d.show.modal.on=u};b.extend(u,b.fn.qtip.defaults,{show:{modal:{on:m,effect:u,blur:u}}});b.fn.qtip.plugins.bgiframe=function(d){if(!(b.browser.msie&&/^6\.[0-9]/.test(b.browser.version)&&b("select, object").length))return m;
var a=d.plugins.bgiframe;if(a)return a;else{d.plugins.bgiframe=new ea(d);return d.plugins.bgiframe}};b.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
